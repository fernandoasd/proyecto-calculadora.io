<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Bootstrap CSS only -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">
  <!--Link css-->
  <link rel="stylesheet" type="text/css" href="./css/style.css">
  <!--link js-->
  <script src="./js/javascript.js"></script>
  <title>Calculadora</title>
</head>

<body>
  <h1 class="text-center m-3">Calculadora</h1>

  <!-- HTML Calculadora-->
</div>
<div class="container-sm w-50 bg-secondary text-white p-3 m-1 border rounded-2 "> 
  <p class="text-center"><strong> Ejemplo de script calculadora (Branch: calculadora_v2_input v 2.0.0): </strong></p>
<div class="row p-1 d-flex justify-content-center">
    <input class="m-1 border rounded-2 text-center bg-white tex-back" type="text" name="display"  placeholder="Ingrese némero" id="display1" disabled>
    <input class="m-1 border rounded-2 text-center" type="text" name="display"  placeholder="Cuentas" id="display2">
    <input class="m-1 border rounded-2 text-center" type="text" name="display"  placeholder="Notas" id="display3">
  <div class="col-6">
  <input class="btn w-100 m-1 btn-primary" type="button"  value="+" id="sumar">
  <input class="btn w-100 m-1 btn-primary" type="button"  value="-" id="restar">
  <input class="btn w-100 m-1 btn-primary" type="button"  value="1" id="tecla_uno">
</div>
<div class="col-6">
  <input class="btn w-100 m-1 btn-primary" type="button"  value="*" id="multiplicar">
  <input class="btn w-100 m-1 btn-primary" type="button"  value="/" id="dividir">
</div>
<div class="col-12 d-flex justify-content-start"></div>
    <input class="btn w-50 m-1 btn-warning" type="button"  value="=" id="enter">
    <input class="btn w-25 justify-content-end m-1 btn-danger" type="button"  value="Borrar" id="borrar">
</div>
<div class="row p-1">
    <input class="border rounded-2 text-center" rows="5" type="text" name="resultado" id="display_resultado" placeholder="Resultado">
  </div>
</div>




<!-- JS Calculadora-->
<script>
var valor = 0;


var resultado1_js = 0;//variable auxiliar
var resultado2_js = 0; 
var auxiliar, valor2_js;
var operacion_js = 0; //Determina el tipo de operación: operacion_js.value= 1 suma , 2 resta, 3 multiplicación, 4 división
var display1_js = document.getElementById("display1"); 
var display2_js = document.getElementById("display2");
var display3_js = document.getElementById("display3");
var resultado_display_js = document.getElementById("display_resultado");
var sumar_js = document.getElementById("sumar");
var restar_js = document.getElementById("restar");
var multiplicar_js = document.getElementById("multiplicar");
var dividir_js = document.getElementById("dividir");
var enter_js = document.getElementById("enter");
var borrar_js = document.getElementById("borrar")

//Input de teclado


/* function teclado_calculadora() {
tecla_esc1 = event.keyCode;
console.log("Unicode: " + tecla_js)

if (tecla_esc1 == 17) {
console.log("IF : tecla CTRL !")
}
}


window.onkeydown = teclado_calculadora();
//Ejecución de codigo al presionar un tecla
*/

  function teclado_calculadora() {
  
  tecla_calculadora = event.key;
  
  
  console.log("tecla= "+ tecla_calculadora);
  if ( tecla_calculadora >= 0) {
    display1_js.value +=  tecla_calculadora;
    console.log("Número Nº" + tecla_calculadora);
   } else {
    switch (tecla_calculadora){
      case tecla_calculadora = "+":
        suma()
      break;
      case tecla_calculadora = "-":
        resta()
      break;
      case tecla_calculadora = "*":
      multiplicacion()
      break;
      case tecla_calculadora = "/":
      division()
      break;
      case tecla_calculadora = "Enter":
      operacion();
      break;
      case tecla_calculadora = "Escape":
      borrar();
      break
      

    }
   }
  }
  window.onkeydown = teclado_calculadora;


  function operacion(x){ 
  x =  valor2_js;
  valor2_js = display1_js.value;
  switch (operacion_js){
    case operacion_js.value=1: //caso suma
    resultado_display_js.value = parseInt(valor1_js) + parseInt(valor2_js);
    display1_js.value =  resultado_display_js.value;
    display2_js.value += valor2_js + " = " + resultado_display_js.value
    console.log(valor2_js + " El resultado de la suma es: " + resultado_display_js.value)
    break;
    case operacion_js.value=2: //caso resta
    resultado_display_js.value = parseInt(valor1_js) - parseInt(valor2_js);
    display1_js.value =  resultado_display_js.value;
    display2_js.value += valor2_js + " = " + resultado_display_js.value
    console.log(valor2_js + " El resultado de la resta es: " + resultado_display_js.value)
    break;
    case operacion_js.value=3: //caso multiplicacion
    resultado_display_js.value = parseInt(valor1_js) * parseInt(valor2_js);
    display1_js.value =  resultado_display_js.value;
    display2_js.value += valor2_js + " = " + resultado_display_js.value
    console.log(valor2_js + " El resultado de la multiplicación es: " + resultado_display_js.value)
    break;
    case operacion_js.value=4: //caso división
    resultado_display_js.value = parseInt(valor1_js) / parseInt(valor2_js);
    display1_js.value =  resultado_display_js.value;
    display2_js.value += valor2_js + " = " + resultado_display_js.value
    console.log(valor2_js + " El resultado de la división es: " + resultado_display_js.value)
    break;
    default:
    console.log("Default operacion_js= " + operacion_js)
  }
}
// capturador de teclado

//función SUMA
function suma() {
  valor1_js = display1_js.value; 
  operacion_js = 1;
  display1_js.value = "";
  display2_js.value = valor1_js + " + ";
  console.log("operacion_js.value= " + operacion_js + " Valor= " + valor1_js + " + ");
}

function resta() {
  valor1_js = display1_js.value;
  operacion_js = 2;
  display1_js.value = "";
  display2_js.value = valor1_js + " - "
  console.log("operacion_js.value= " + operacion_js + " Valor= " + valor1_js + " - ")
}


function multiplicacion() {
  valor1_js = display1_js.value;
  operacion_js = 3;
  display1_js.value = "";
  display2_js.value = valor1_js + " * "
  console.log("operacion_js.value= " + operacion_js + " Valor= " + valor1_js + " * ")
}

function division() {
  valor1_js = display1_js.value;
  operacion_js = 4;
  display1_js.value = "";
  display2_js.value = valor1_js + " / "
  console.log("operacion_js.value= " + operacion_js + " Valor= " + valor1_js + " / ")
}

function borrar() {

  display1_js.value = "";
  display2_js.value = "";
  resultado_display_js.value= "";
}

/* operacion_js.value= 1 suma , 2 resta, 3 multiplicación, 4 división. */

/*----------------------Click botones de operaciones----------------------*/

/*Click boton +*/
sumar_js.addEventListener("click", function(){ 
  suma()
})

  /*Operaciión Resta*/
restar_js.addEventListener("click", function(){
  resta() 
})

  /*Operaciión Multiplicación*/
  multiplicar_js.addEventListener("click", function(){ 
  multiplicacion()
})

 /*Operaciión División*/
 dividir_js.addEventListener("click", function(){ 
  division()
})

 /* Borrar */
 borrar_js.addEventListener("click", function(){
  borrar()
})

/* ENTER */
enter_js.addEventListener("click", function(){
 operacion(operacion_js)
})


</script>


  <!-- JavaScript Bundle with Popper Bootstrap-->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-u1OknCvxWvY5kfmNBILK2hRnQC3Pr17a+RTT6rIHI7NnikvbZlHgTPOOmMi466C8"
    crossorigin="anonymous"></script>
</body>

</html>